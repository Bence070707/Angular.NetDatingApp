<div class="animate-popup shadow-lg outline-0 card w-full">
    <ul class="steps mt-4">
        <li class="step step-primary">Credentials</li>
        <li class="step" [class.step-primary]="currentStep() === 2">Profile</li>
    </ul>
    @if(currentStep() === 1){
    <form [formGroup]="credentialsForm" class="flex flex-col gap-4 hero-content steps">
        <app-text-input label="Email" formControlName="email" />
        <app-text-input label="Display Name" formControlName="displayName" />
        <app-text-input label="Password" formControlName="password" type="password" />
        <app-text-input label="Confirm Password" formControlName="confirmPassword" type="password" />
        <div class="flex justify-between gap-1.5">
            <button (click)="cancel()" type="button" class="btn btn-soft">Cancel</button>
            <button [disabled]="credentialsForm.invalid" type="button" (click)="nextStep()"
                class="btn btn-soft btn-secondary">Next</button>
        </div>
    </form>
    }
    @if(currentStep() === 2){
    <form [formGroup]="profileForm" class="flex flex-col gap-4 m-10 hero-content steps" (ngSubmit)="register()">
        
        <div class="flex items-center gap-4">
            <div class="font-semibold">Gender: </div>
            <label class="flex gap-3 items-center">
                <span>Male</span>
                <input type="radio" formControlName="gender" value="male" class="radio radio-primary">
            </label>
            <label class="flex gap-3 items-center">
                <span>Female</span>
                <input type="radio" formControlName="gender" value="female" class="radio radio-primary">
            </label>
        </div>

        <app-text-input label="Date of Birth" formControlName="dateOfBirth" type="date" [maxDate]="getMaxDate()"/>
        <app-text-input label="City" formControlName="city" />
        <app-text-input label="Country" formControlName="country" />

        <div class="flex justify-between gap-1.5">
            <button (click)="prevStep()" type="button" class="btn btn-soft">Back</button>
            <button [disabled]="profileForm.invalid" type="button" (click)="register()"
                class="btn btn-soft btn-secondary">Register</button>
        </div>
    </form>
    }

    @if(validationErrors().length >0){
        <div class="mt-5 flex bg-bray-200 rounded-2xl w-1/2 p-3 mx-auto">
            <ul>
                @for (error of validationErrors(); track $index) {
                    <li>{{ error }}</li>
                }
            </ul>
        </div>
    }
</div>